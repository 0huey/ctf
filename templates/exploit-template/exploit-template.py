#!/usr/bin/env python3

from pwn import *

def Main(socket=None):
    context.binary = "./format"

    if not socket:
        proc = process()
        GDB(proc)

    else:
        ip, port = socket
        proc = remote(ip, int(port))


    proc.interactive()

def GDB(proc):
    script = list()
    script.append("break *main")
    script.append("continue")
    script.append("")

    script = '\n'.join(script)

    gdb.attach(proc, script)


if __name__ == "__main__":
    argv = sys.argv

    if len(argv) > 2:
        Main((argv[1], argv[2]))

    else:
        Main()
